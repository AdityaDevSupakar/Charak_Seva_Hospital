<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="HMS.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            margin: 20px;

            overflow-x: hidden;

        }

        .frameset {
            border: 1px solid navy;
            padding: 20px;
            margin-bottom: 20px;


        }

        .age-label {
            display: inline-block;
            margin-left: 10px;
        }

        .error {
            color: red;
        }

        input {
            border: 1px solid red;
            border-radius: 3px;
        }
    </style>
</head>

<body>

    <div class="container">
        <h2 class="text-center mb-3 "><u>REGISTRATION FORM</u></h2>

        <form id="registrationForm" onsubmit="return validateForm()" method="post" action="Register.php"
            enctype="multipart/form-data">
            <div class="frameset">
                <div class="mb-3 text-center">
                    <label for="profile" class="form-label">
                        <i class="fa fa-id-badge" aria-hidden="true" style="font-size: 100px;"></i>
                    </label>
                    <div class="mb-3">
                        <label for="photo" class="form-label">Upload Photo</label>
                        <input type="file" class="form-control" id="photo" accept="image/*" name="photo" required>
                        <small class="text-muted">Supported formats: JPG, PNG, GIF only.</small>
                        <span class="error" id="photoError"></span>
                    </div>
                </div>
                <h6>NAME :</h6>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="firstname" name="firstname" required
                            placeholder="First Name">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="middlename" name="middlename"
                            placeholder="Middle Name">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="lastname" name="lastname" required
                            placeholder="Last Name">
                    </div>
                </div>
                <h6>FATHER's NAME :</h6>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="f_firstname" name="f_firstname" required
                            placeholder="First Name">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="f_middlename" name="f_middlename"
                            placeholder="Middle Name">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="f_lastname" name="f_lastname" required
                            placeholder="Last Name">
                    </div>
                </div>
                <h6>MOTHER's NAME :</h6>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="m_firstname" name="m_firstname" required
                            placeholder="First Name">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="m_middlename" name="m_middlename"
                            placeholder="Middle Name">
                    </div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="m_lastname" name="m_lastname" required
                            placeholder="Last Name">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="gender" class="form-label">Gender</label>
                        <select class="form-control" id="gender" name="gender" required>
                            <option value="">Select</option>
                            <option value="MALE">MALE</option>
                            <option value="FEMALE">FEMALE</option>
                            <option value="OTHER">OTHER</option>
                        </select>
                        <span class="error" id="genderError"></span>
                    </div>
                    <div class="col-md-4">
                        <label for="dob" class="form-label">Date of Birth</label>
                        <input type="date" class="form-control" id="dob" name="dob" required onchange="calculateAge()">
                        <span class="error" id="dobError"></span>
                    </div>
                    <div class="col-md-4">
                        <label for="age" class="form-label">Current Age</label>
                        <input type="text" class="form-control" id="age" name="age" readonly>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="mobile" class="form-label">Mobile Number</label>
                        <input type="text" class="form-control" id="mobile" name="mobile" maxlength="10" required>
                        <span class="error" id="mobileError"></span>
                    </div>
                    <div class="col-md-6">
                        <label for="alt-mobile" class="form-label">Alternate Mobile Number</label>
                        <input type="text" class="form-control" id="alt-mobile" name="alt-mobile" maxlength="10">
                    </div>
                </div>

            </div>

            <div class="frameset">
                <h3>Address Details</h3>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="village" class="form-label">Village</label>
                        <input type="text" class="form-control" id="village" name="village" required>
                        <span class="error" id="villageError"></span>
                    </div>
                    <div class="col-md-4">
                        <label for="post" class="form-label">Post</label>
                        <input type="text" class="form-control" id="post" name="post" required>
                        <span class="error" id="postError"></span>
                    </div>
                    <div class="col-md-4">
                        <label for="pincode" class="form-label">Pin Code</label>
                        <input type="text" class="form-control" id="pincode" maxlength="6" name="pincode" required>
                        <span class="error" id="pincodeError"></span>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="district" class="form-label">District</label>
                        <input type="text" class="form-control" id="district" name="district" required>
                        <span class="error" id="districtError"></span>
                    </div>
                    <div class="col-md-6">
                        <label for="state" class="form-label">State</label>
                        <input type="text" class="form-control" id="state" name="state" required>
                        <span class="error" id="stateError"></span>
                    </div>
                </div>
            </div>


            <div class="frameset">
                <h3>Login Details</h3>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="username" class="form-label">Username</label>
                        <input type="text" class="form-control" id="username" name="username" required>
                        <span class="error" id="usernameError"></span>
                    </div>
                    <div class="col-md-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="text" class="form-control" id="password" name="password" required>
                        <span class="error" id="passwordError"></span>
                    </div>
                    <div class="col-md-3">
                        <label for="confirm-password" class="form-label">Confirm Password</label>
                        <input type="text" class="form-control" id="confirm-password" required>
                        <span class="error" id="confirmPasswordError"></span>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary w-100">Register</button>
            </div>
        </form>
    </div>

    <script>
        function calculateAge() {
            const dob = document.getElementById('dob').value;
            if (dob) {
                const today = new Date();
                const birthDate = new Date(dob);
                let age = today.getFullYear() - birthDate.getFullYear();
                const monthDiff = today.getMonth() - birthDate.getMonth();
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                    age--;
                }
                document.getElementById('age').value = age;
            }
        }
        function validateForm() {
            let isValid = true;

            // Correct list of required fields based on provided IDs
            const requiredFields = [
                'firstname', 'lastname', 'f_firstname', 'f_lastname',
                'm_firstname', 'm_lastname', 'gender', 'dob', 'mobile',
                'pincode', 'username', 'password', 'confirm-password', 'photo'
            ];

            // Error messages for validation
            const errorMessages = {
                firstname: "Please enter your first name.",
                lastname: "Please enter your last name.",
                f_firstname: "Please enter your father's first name.",
                f_lastname: "Please enter your father's last name.",
                m_firstname: "Please enter your mother's first name.",
                m_lastname: "Please enter your mother's last name.",
                gender: "Please select your gender.",
                dob: "Please enter your date of birth.",
                mobile: "Please enter a valid 10-digit mobile number.",
                pincode: "Please enter a valid 6-digit pin code.",
                username: "Please enter a username.",
                password: "Please enter a password.",
                "confirm-password": "Please confirm your password.",
                photo: "Please upload a photo."
            };

            // Validate required fields
            requiredFields.forEach(function (fieldId) {
                const field = document.getElementById(fieldId);
                const errorSpan = document.getElementById(fieldId + 'Error');

                if (field && field.value.trim() === "") {
                    isValid = false;
                    if (errorSpan) errorSpan.textContent = errorMessages[fieldId];
                } else {
                    if (errorSpan) errorSpan.textContent = "";
                }
            });

            // Additional validations
            const mobile = document.getElementById('mobile').value;
            if (mobile && (mobile.length !== 10 || isNaN(mobile))) {
                document.getElementById('mobileError').textContent = "Please enter a valid 10-digit mobile number.";
                isValid = false;
            }

            const pincode = document.getElementById('pincode').value;
            if (pincode && (pincode.length !== 6 || isNaN(pincode))) {
                document.getElementById('pincodeError').textContent = "Please enter a valid 6-digit pin code.";
                isValid = false;
            }

            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            if (password !== confirmPassword) {
                document.getElementById('confirmPasswordError').textContent = "Passwords do not match.";
                isValid = false;
            }

            const photo = document.getElementById('photo').files;
            if (!photo || photo.length === 0) {
                document.getElementById('photoError').textContent = "Please upload a photo.";
                isValid = false;
            }

            return isValid;
        }
    </script>
</body>

</html>